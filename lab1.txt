CREATE TABLE departments (
    department_id int NOT NULL PRIMARY KEY,
    department_name VARCHAR(255),
    manager_id int,
    location_id int
);

Powyższe tworzenie tabeli początkowo usunąłem z Worksheetu i napisałem je z głowy, więc może być błąd
---------------------------------------------

CREATE TABLE employees (
    employee_id int NOT NULL PRIMARY KEY,
    first_name VARCHAR(255),
    last_name VARCHAR(255),
    email VARCHAR(255),
    phone_number INT,
    hire_date date,
    job_id int,
    salary int,
    commission_pct VARCHAR(255),
    manager_id int,
    department_id int,
    FOREIGN KEY (department_id) REFERENCES Departments(department_id),
    Age int
);

CREATE TABLE job_history (
    employee_id int
);

ALTER TABLE job_history
ADD FOREIGN KEY (employee_id) REFERENCES employees(employee_id);

ALTER TABLE job_history
ADD start_date date;
ALTER TABLE job_history
ADD end_date date;
ALTER TABLE job_history
ADD job_id int;
ALTER TABLE job_history
ADD department_id int;
ALTER TABLE job_history
ADD FOREIGN KEY (department_id) REFERENCES Departments(department_id);

CREATE TABLE jobs (
    job_id int NOT NULL PRIMARY KEY,
    job_title VARCHAR(255),
    min_salary int,
    max_salary int
);

ALTER TABLE job_history
ADD FOREIGN KEY (job_id) REFERENCES jobs(job_id);

ALTER TABLE employees
ADD FOREIGN KEY (job_id) REFERENCES jobs(job_id);

CREATE TABLE locations (
    location_id int NOT NULL PRIMARY KEY
);
ALTER TABLE locations
ADD street_address VARCHAR(255);
ALTER TABLE locations
ADD postal_code VARCHAR(255);
ALTER TABLE locations
ADD city VARCHAR(255);
ALTER TABLE locations
ADD state_province VARCHAR(255);
ALTER TABLE locations
ADD country_id int NOT NULL;

CREATE TABLE countries (
    country_id int NOT NULL PRIMARY KEY,
    country_name VARCHAR(255),
    region_id int
);

ALTER TABLE locations
ADD FOREIGN KEY (country_id) REFERENCES countries(country_id);

CREATE TABLE regions (
    region_id int NOT NULL PRIMARY KEY
);
ALTER TABLE countries
ADD FOREIGN KEY (region_id) REFERENCES regions(region_id);

ALTER TABLE regions
ADD region_name VARCHAR(255);

ALTER TABLE jobs
ADD CHECK (min_salary<=max_salary-2000);

ALTER TABLE departments
ADD FOREIGN KEY (manager_id) REFERENCES employees(employee_id);

ALTER TABLE departments
ADD FOREIGN KEY (location_id) REFERENCES locations(location_id);

ALTER TABLE employees
ADD FOREIGN KEY (manager_id) REFERENCES employees(employee_id);

ALTER TABLE job_history
ADD FOREIGN KEY (job_id) REFERENCES jobs(job_id);

ALTER TABLE employees
ADD FOREIGN KEY (job_id) REFERENCES jobs(job_id);

ALTER TABLE job_history
ADD PRIMARY KEY (employee_id,start_date);

DROP TABLE jobs CASCADE CONSTRAINTS;
FLASHBACK TABLE jobs TO BEFORE DROP;